# 1、内部类

- 内部类就是定义在一个类里面的类，里面的类可以理解成（寄生），外部类可以理解成（宿主）。

![](笔记图片资源包\snipaste20220124_132509.jpg)

## 1.1、内部类的使用场景、作用

- 当一个事物的内部，还有一个部分需要一个完整的结构进行描述，而这个内部的完整的结构又只为外部事物提供服务，那么整个内部的完整结构可以选择使用内部类来设计。
- 内部类通常可以方便访问外部类的成员，包括私有的成员。
- 内部类提供了更好的封装性，内部类本身就可以用private protectecd等修饰，封装性可以做更多控制。

## 1.2、内部类的分类

- 静态内部类[了解]
- 成员内部类（非静态内部类） [了解]
- 局部内部类[了解]
- 匿名内部类（重点）

# 2、静态内部类

## 2.1、什么是静态内部类？

- 有static修饰，属于外部类本身。
- 它的特点和使用与普通类是完全一样的，类有的成分它都有，只是位置在别人里面而已。

![](笔记图片资源包\snipaste20220124_133405.jpg)

## 2.2、静态内部类创建对象的格式   

![](笔记图片资源包\snipaste20220124_133416.jpg)

## 2.3、静态内部类的访问拓展

### 静态内部类中是否可以直接访问外部类的静态成员？ 

- 可以，外部类的静态成员只有一份可以被共享访问。

### 静态内部类中是否可以直接访问外部类的实例成员？ 

- 不可以的，外部类的实例成员必须用外部类对象访问。

```java
/**
   外部类
 */
public class Outer {

    public static int a = 100;
    private String hobby;

    /**
       静态成员内部类
     */
    public static class Inner{
        private String name;//外部类的实例变量
        private int age;//外部类的实例变量
        public static String schoolName;//外部类的静态成员

        public Inner(){}

        public Inner(String name, int age) {
            this.name = name;
            this.age = age;
        }

        public void show(){
            System.out.println("名称：" + name);
            System.out.println(a);
            
            System.out.println(schoolName);//直接访问，外部类的静态成员只有一份可以被共享访问。
            
            System.out.println(hobby); // 直接访问报错！因为hobby为外部类实例对象
           	Outer o = new Outer();//如果要访问必须通过创建外部对象来进行访问
            System.out.println(o.hobby);//不报错
        }

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }

        public int getAge() {
            return age;
        }

        public void setAge(int age) {
            this.age = age;
        }
    }
}
```

### 静态内部类的使用场景、特点、访问总结。

- 如果一个类中包含了一个完整的成分，如汽车类中的发动机类。 
- 特点、使用与普通类是一样的，类有的成分它都有，只是位置在别人里面而已。
- 可以直接访问外部类的静态成员，不能直接访问外部类的实例成员。
- 注意：开发中实际上用的还是比较少。

- 注意：在成员内部类中访问所在外部类对象 ，格式：外部类名.this

# 3、成员内部类

## 3.1、什么是成员内部类？

- 无static修饰，属于外部类的对象。
- JDK16之前，成员内部类中不能定义静态成员，JDK 16开始也可以定义静态成员了。

![](笔记图片资源包\snipaste20220124_134033.jpg)

```java
**
   外部类
 */
public class Outer {
    public static int num = 111;
    private String hobby;

    public Outer() {
    }

    public Outer(String hobby) {
        this.hobby = hobby;
    }

    /**
       成员内部类：不能加static修饰 属于外部类对象的
     */
    public class Inner{
        private String name;
        private int age;
        public static int a = 100; // JDK 16开始支持静态成员了

        public static void test(){
            System.out.println(a);
        }

        public void show(){
            System.out.println("名称：" + name);
            System.out.println("数量：" + num);
            System.out.println("爱好：" + hobby);
        }

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }

        public int getAge() {
            return age;
        }

        public void setAge(int age) {
            this.age = age;
        }
    }
}
```

## 3.2、成员内部类创建对象的格式

![](笔记图片资源包\snipaste20220124_134201.jpg)

## 3.3、成员内部类的访问拓展

### 成员内部类中是否可以直接访问外部类的静态成员？ 

- 可以，外部类的静态成员只有一份可以被共享访问。

### 成员内部类的实例方法中是否可以直接访问外部类的实例成员？ 

- 可以的，因为必须先有外部类对象，才能有成员内部类对象，所以可以直接访问外部类对象的实例成员。

### 成员内部类是什么样的、有什么特点？

-  无static修饰，属于外部类的对象。
-  可以直接访问外部类的静态成员，实例方法中可以直接访问外部类的实例成员。

### 成员内部类如何创建对象？

- 外部类名.内部类名 对象名 = new  外部类构造器.new 内部类构造器()

### 内部类拓展案例

请观察如下代码，写出合适的代码对应其注释要求输出的结果。

```JAVA
class People{
    private int heartbeat = 150;

    /**
       成员内部类
     */
    public class Heart{
        private int heartbeat = 110;

        public void show(){
         int heartbeat = 78;
         System.out.println(？？); // 78
    	System.out.println(？？); // 110
   	System.out.println(？？); //150
        }
    }
}
----------------------------------------------------
class People{
    private int heartbeat = 150;

    /**
       成员内部类
     */
    public class Heart{
        private int heartbeat = 110;

        public void show(){
            int heartbeat = 78;
        System.out.println(heartbeat); // 78
   System.out.println(this.heartbeat); // 110
   System.out.println(People.this.heartbeat); //150
        }
    }
}
```

**注意：在成员内部类中访问所在外部类对象 ，格式：外部类名.this。**

# 4、局部内部类 （鸡肋语法，了解即可）

- 局部内部类放在方法、代码块、构造器等执行体中。
- 局部内部类的类文件名为： 外部类$N内部类.class。

# 5、匿名内部类概述[重点]

## 5.1、匿名内部类

- 本质上是一个没有名字的局部内部类，定义在方法中、代码块中、等。
- 作用：方便创建子类对象，最终目的为了简化代码编写。
- 格式

![](笔记图片资源包\snipaste20220124_135815.jpg)

![](笔记图片资源包\snipaste20220124_135843.jpg)

## 5.2、特点总结

- 匿名内部类是一个没有名字的内部类。
- 匿名内部类写出来就会产生一个匿名内部类的对象。
- 匿名内部类的对象类型相当于是当前new的那个的类型的子类类型。

### 匿名内部类的作用？

- 方便创建子类对象，最终目的为了简化代码编写。

### 匿名内部类的格式？![](笔记图片资源包\snipaste20220124_135843.jpg)

### 匿名内部类的特点？

- 匿名内部类是一个没有名字的内部类。
- 匿名内部类写出来就会产生一个匿名内部类的对象。
- 匿名内部类的对象类型相当于是当前new的那个的类型的子类类型。

- 匿名内部类可以作为方法的实际参数进行传输

```java
go(new Swimming(){
            @Override
            public void swim() {
                System.out.println("运动员快乐的自由泳！！");
            }
        });
```

## 5.3、真实开发小节

- 开发中不是我们主动去定义匿名内部类的，而是别人需要我们写或者我们可以写的时候才会使用。
- 匿名内部类的代码可以实现代码进一步的简化（回扣主题）

